{% comment %} create your own AJAX Collection API within Shopify! asynchronously load collection data by appending ?view= to collection urls. {% endcomment %}
{% layout none %}
{
    "title": {{ collection.title | json }},
    "description": {{ collection.description | json }},
    "products": [
       {% for product in collection.products %}
         {
             "title": {{ product.title | json }},
             "variants": [
                 {% for variant in product.variants %}
                 {
                    "id": {{ variant.id }},
                    "option1": {{ variant.option1 | json }},
                    "option2": {{ variant.option2 | json }},
                    "option3": {{ variant.option3 | json }}
                 }
                {% unless forloop.last %}, {% endunless %}
                 {% endfor %}
             ]
         }
     {% unless forloop.last %}, {% endunless %}
    {% endfor %}
    
    ]

}